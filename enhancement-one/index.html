<!DOCTYPE HTML>
<html>
<head>
    <title>Enhancement One: Weight Trend Graph</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="../assets/css/main.css" />

    <!-- Prism.js CSS for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/themes/prism-tomorrow.min.css" rel="stylesheet"/>
</head>
<body class="is-preload">

<div id="wrapper">

    <div id="main">
        <div class="inner">

            <header id="header">
                <a href="../index.html" class="logo"><strong>Samit Datta</strong></a>
            </header>

            <section>
                <header class="main">
                    <h2>Enhancement One: Weight Trend Graph</h2>
                </header>

                <p>
                    The artifact I have chosen for my ePortfolio is a mobile Weight Tracker application developed 
                    as part of my CS360 coursework. This application allows users to manage their weight over time 
                    by adding, updating, or removing entries through a simple, intuitive interface. The original version 
                    focused on establishing reliable CRUD functionality, providing a foundation for enhancements that 
                    improve both usability and functionality.
                </p>

                <p>
                    I included this artifact because it demonstrates my technical skills in mobile application development, 
                    problem-solving, and creating practical solutions for real-world challenges. A key enhancement I implemented 
                    was the integration of a <strong>weight trend graph</strong>, which visually displays the userâ€™s weight changes 
                    over time. This transformed the app from a static data-entry system into a dynamic tool that allows users 
                    to monitor progress and trends effectively. Implementing this feature required evaluating charting libraries, 
                    adapting to platform-specific limitations, and learning to integrate third-party tools.
                </p>

                <p>
                    The `loadGrid()` method is central to this enhancement, as it retrieves weight entries from the database, 
                    updates the GridView, and plots the weight trend graph using MPAndroidChart. This method demonstrates 
                    my skills in data handling, UI updates, and chart integration:
                </p>

                <pre><code class="language-java">
private void loadGrid() {
    Cursor cursor = db.getWeightsByUser(userId); // fetch weights
    ArrayList<String> data = new ArrayList<>();
    weightIds.clear();
    dateLabels.clear();
    ArrayList<Entry> entries = new ArrayList<>();
    int index = 0;

    while (cursor.moveToNext()) {
        int id = cursor.getInt(cursor.getColumnIndexOrThrow("id"));
        String date = cursor.getString(cursor.getColumnIndexOrThrow("date"));
        double weight = cursor.getDouble(cursor.getColumnIndexOrThrow("weight"));

        data.add(date + ": " + weight + " lbs"); // GridView display text
        weightIds.add(id); // store DB ID for update/delete
        entries.add(new Entry(index, (float) weight)); // chart data point
        dateLabels.add(date); // chart X-axis label
        index++;
    }
    cursor.close(); // prevent memory leaks

    gridView.setAdapter(new ArrayAdapter<>(this, android.R.layout.simple_list_item_1, data));

    if (!entries.isEmpty()) {
        LineDataSet dataSet = new LineDataSet(entries, "Weight Progress");
        dataSet.setColor(getResources().getColor(R.color.purple_500));
        dataSet.setValueTextColor(getResources().getColor(R.color.black));
        dataSet.setLineWidth(2f);
        dataSet.setCircleRadius(4f);
        dataSet.setCircleColor(getResources().getColor(R.color.purple_700));
        dataSet.setDrawValues(true);

        LineData lineData = new LineData(dataSet);
        weightChart.setData(lineData);

        XAxis xAxis = weightChart.getXAxis();
        xAxis.setValueFormatter(new IndexAxisValueFormatter(dateLabels));
        xAxis.setGranularity(1f);
        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);
        xAxis.setLabelRotationAngle(-45);

        weightChart.getAxisRight().setEnabled(false);
        weightChart.getDescription().setEnabled(false);
        weightChart.animateX(500);
        weightChart.invalidate();
    }
}
                </code></pre>

                <p>
                    By implementing this method, I learned how to efficiently connect database operations with real-time 
                    UI updates and create a visual representation of data that enhances user experience. Challenges included 
                    synchronizing the chart with data updates, formatting labels for readability, and ensuring smooth animation, 
                    all of which strengthened my problem-solving and technical skills.
                </p>

                <p>
                    This enhancement allowed me to fully meet course outcomes related to professional communication 
                    through visual and technical forms, as well as the application of new methods and technologies to 
                    solve computing problems. Other outcomes, such as advanced algorithmic analysis, remain to be addressed 
                    in future enhancements. Overall, this artifact demonstrates my ability to independently learn new tools, 
                    apply them practically, and add meaningful value to a software application.
                </p>

            </section>

        </div>
    </div>

</div>

<!-- Prism.js for syntax highlighting -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/autoloader/prism-autoloader.min.js"></script>

</body>
</html>
