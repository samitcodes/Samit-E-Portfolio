<!DOCTYPE HTML>
<html>
<head>
    <title>Enhancement One: Weight Trend Graph</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="../assets/css/main.css" />

    <!-- Prism.js CSS for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/themes/prism-tomorrow.min.css" rel="stylesheet"/>

    <!-- Custom CSS to shrink code snippet and add spacing -->
    <style>
        /* Shrink code snippet display */
        code.language-java {
            display: block;        /* make it block for styling */
            font-size: 0.85em;     /* shrink text size */
            max-height: 400px;     /* limit max height */
            overflow: auto;        /* enable scrolling if too tall */
            padding: 1em;
            background-color: #2d2d2d;
            border-radius: 5px;
            margin: 1em 0;         /* space above and below snippet */
        }
    </style>
</head>
<body class="is-preload">

<div id="wrapper">

    <div id="main">
        <div class="inner">

            <header id="header">
                <a href="../index.html" class="logo"><strong>Samit Datta</strong></a>
            </header>

            <section>
                <header class="main">
                    <h2>Enhancement One: Weight Trend Graph</h2>

                    <!-- Button linking to original repo with GitHub icon -->
                    <div style="margin: 0 0 1em 0;">
                        <a href="https://github.com/samitcodes/WeightTrackerApp/tree/3610ef253906b345917ce0a64c86eed046fb0efc/Enhancement1/DattaCS499EnchantmentOne"
                           class="button small"
                           target="_blank"
                           rel="noopener noreferrer">
                            <i class="fab fa-github" style="margin-right: 0.5em;"></i>
                            Enhancement One Repository
                        </a>
                    </div>
                </header>

                <p>
                    The artifact I have chosen for my ePortfolio is a mobile Weight Tracker application developed 
                    as part of my CS360 coursework. This application allows users to manage their weight over time 
                    by adding, updating, or removing entries through a simple, intuitive interface. The original version 
                    focused on establishing reliable CRUD functionality, providing a solid foundation for enhancements 
                    that improve both usability and functionality.
                </p>

                <p>
                    I selected this artifact because it demonstrates my technical skills in mobile application development, 
                    problem-solving, and designing solutions that address real-world needs. A significant enhancement I 
                    implemented was the integration of a <strong>weight trend graph</strong>, which allows users to visualize 
                    their weight changes over time. This enhancement transformed the application from a basic data-entry 
                    system into a dynamic, user-centered tool, enabling users to track progress and identify trends.
                </p>

                <p>
                    The process of implementing this graph required careful consideration of platform compatibility. Initially, 
                    I experimented with Chart.js, a popular JavaScript charting library, but found it unsuitable for native 
                    Android development. This challenge prompted me to research alternative solutions, leading me to adopt 
                    MPAndroidChart. Learning to use this library involved studying official documentation, watching instructional 
                    videos, and experimenting with datasets to correctly bind values to the graph.
                </p>

                <p>
                    The <code>loadGrid()</code> method is central to this enhancement, as it retrieves weight entries from the database, 
                    updates the GridView, and plots the weight trend graph. This method demonstrates my ability to handle 
                    database operations, dynamically update the UI, and integrate third-party libraries:
                </p>

                <pre><code class="language-java">
private void loadGrid() {
    Cursor cursor = db.getWeightsByUser(userId); // fetch weights
    ArrayList<String> data = new ArrayList<>();
    weightIds.clear();
    dateLabels.clear();
    ArrayList<Entry> entries = new ArrayList<>();
    int index = 0;

    while (cursor.moveToNext()) {
        int id = cursor.getInt(cursor.getColumnIndexOrThrow("id"));
        String date = cursor.getString(cursor.getColumnIndexOrThrow("date"));
        double weight = cursor.getDouble(cursor.getColumnIndexOrThrow("weight"));

        data.add(date + ": " + weight + " lbs"); // GridView display text
        weightIds.add(id); // store DB ID for update/delete
        entries.add(new Entry(index, (float) weight)); // chart data point
        dateLabels.add(date); // chart X-axis label
        index++;
    }
    cursor.close(); // prevent memory leaks

    gridView.setAdapter(new ArrayAdapter<>(this, android.R.layout.simple_list_item_1, data));

    if (!entries.isEmpty()) {
        LineDataSet dataSet = new LineDataSet(entries, "Weight Progress");
        dataSet.setColor(getResources().getColor(R.color.purple_500));
        dataSet.setValueTextColor(getResources().getColor(R.color.black));
        dataSet.setLineWidth(2f);
        dataSet.setCircleRadius(4f);
        dataSet.setCircleColor(getResources().getColor(R.color.purple_700));
        dataSet.setDrawValues(true);

        LineData lineData = new LineData(dataSet);
        weightChart.setData(lineData);

        XAxis xAxis = weightChart.getXAxis();
        xAxis.setValueFormatter(new IndexAxisValueFormatter(dateLabels));
        xAxis.setGranularity(1f);
        xAxis.setPosition(XAxis.XAxisPosition.BOTTOM);
        xAxis.setLabelRotationAngle(-45);

        weightChart.getAxisRight().setEnabled(false);
        weightChart.getDescription().setEnabled(false);
        weightChart.animateX(500);
        weightChart.invalidate();
    }
}
                </code></pre>

                <p>
                    Implementing this method taught me several valuable lessons. I learned how to synchronize database 
                    updates with real-time UI changes, format chart labels for readability, and create smooth animations 
                    that enhance user experience. I also developed problem-solving skills by navigating the limitations 
                    of Chart.js, identifying a suitable alternative, and successfully integrating MPAndroidChart. 
                    Peer feedback during testing informed improvements to the chartâ€™s clarity, color scheme, and usability.
                </p>

                <p>
                    Beyond technical skills, this enhancement strengthened my ability to conduct independent research, 
                    plan solutions, and iteratively test features to meet user needs. The artifact allowed me to fully 
                    meet course outcomes related to professional communication through visual and technical forms, as well 
                    as the application of new methods and technologies to solve computing problems. Outcomes such as 
                    advanced algorithmic analysis remain partially met and will be addressed in future enhancements. 
                    Overall, this artifact demonstrates my ability to create meaningful, user-centered software and reflects 
                    growth as a software developer.
                </p>

                <p>
                    Looking ahead, potential future enhancements could include predictive weight trend analysis, 
                    personalized recommendations, and more advanced data visualizations. These improvements would not only 
                    increase the value of the application but also provide further opportunities to demonstrate my technical 
                    and analytical skills.
                </p>

            </section>

        </div>
    </div>

</div>

<!-- Prism.js for syntax highlighting -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/autoloader/prism-autoloader.min.js"></script>

</body>
</html>
